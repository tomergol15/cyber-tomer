import os
import socket
import time
import subprocess

def create_and_rename_file():
    original = "created_by_malware.txt"
    renamed = "renamed_by_malware.txt"
    with open(original, "w") as f:
        f.write("This file was created by a simulated malware.\n")
    os.rename(original, renamed)
    print(f"Created and renamed file: {original} -> {renamed}")

def simulate_network_activity():
    try:
        mysocket = socket.socket(socket.AF_INET, socket.SOCK_STREAM)
        mysocket.settimeout(5)
        mysocket.connect(("example.com", 80))
        mysocket.sendall(b"GET / HTTP/1.1\r\nHost: example.com\r\n\r\n")
        mysocket.close()
        print("Simulated network request to example.com")
    except Exception as e:
        print(f"Network error: {e}")

def spawn_subprocess():
    try:
        subprocess.Popen(["ping", "-c", "3", "127.0.0.1"])
        print("Spawned subprocess: ping 127.0.0.1")
    except Exception as e:
        print(f"Subprocess error: {e}")

def main():
    print("Starting fake malware execution...\n")
    create_and_rename_file()
    simulate_network_activity()
    spawn_subprocess()
    time.sleep(5)
    print("\nFake malware execution finished.")

if __name__ == "__main__":
    main()

